{
  "version": 8,
  "name": "vodovodomis",
  "center": [16.694112, 43.443665],
  "zoom": 6,
  "glyphs": "{fontstack}/{range}",
  "sources": {
    "mjernaZona": {
      "type": "geojson",
      "url": "/dir/mjernaZona"
    },
    "vod": {
      "type": "geojson",
      "url": "/dir/vod"
    },
    "vodospremnik": {
      "type": "geojson",
      "url": "/dir/vodospremnik"
    },
    "mjernoMjesto": {
      "type": "vector",
      "url": "https://gis.edc.hr/imagisth/threport/devices_all",
      "filter": [
        "all",
        ["==", "company_id", 3],
        ["==", "zone_name", "SUKI"]
      ]
    }
  },
  "layers": [
    {
      "id": "background",
      "type": "background",
      "layout": { "visibility": "visible" },
      "paint": { "background-color": "rgb(255,255,255)" }
    },
    {
      "id": "cjevovod",
      "type": "line",
      "source": "vod",
      "paint": {
        "line-color": "red",
        "line-width": 1.5
      }
    },
    {
      "id": "mjernaZona-outline",
      "type": "line",
      "source": "mjernaZona",
      "paint": {
        "line-color": "black"
      }
    },
    {
      "id": "mjernaZona-Zagrad",
      "type": "fill",
      "source": "mjernaZona",
      "filter": ["==", "sustav", "Zagrad"],
      "paint": {
        "fill-color": "rgba(255,255,0,0.192)"
      }
    },
    {
      "id": "mjernaZona-Studenci",
      "type": "fill",
      "source": "mjernaZona",
      "filter": ["==", "sustav", "Studenci"],
      "paint": {
        "fill-color": "rgba(255,0,0,0.192)"
      }
    },
    {
      "id": "mjernaZona-Ruda",
      "type": "fill",
      "source": "mjernaZona",
      "filter": ["==", "sustav", "Ruda"],
      "paint": {
        "fill-color": "rgba(0,128,0,0.192)"
      }
    },
    {
      "id": "mjernaZona-Kraljevac",
      "type": "fill",
      "source": "mjernaZona",
      "filter": ["==", "sustav", "Kraljevac"],
      "paint": {
        "fill-color": "rgba(0,255,255,0.192)"
      }
    },
    {
      "id": "vodospremnik-icon",
      "type": "symbol",
      "source": "vodospremnik",
      "layout": {
        "icon-image": "kvadrat â€“ plavi",
        "icon-size": 0.2
      }
    },
    {
      "id": "vodospremnik-label",
      "type": "symbol",
      "source": "vodospremnik",
      "minzoom": 12,
      "layout": {
        "text-field": [
          "concat",
          ["get", "Ime"],
          "\n",
          "H= ",
          ["ceil", ["get", "Hdno_mnm"]],
          " mnm"
        ],
        "text-size": 12,
        "text-font": ["Arial Normal", "sans-serif Normal"],
        "text-offset": [0, -2]
      },
      "paint": {
        "text-color": "black",
        "text-halo-blur": 1,
        "text-halo-color": "#ffffff",
        "text-halo-width": 3
      }
    },
    {
      "id": "mjernoMjesto-icon-TH",
      "type": "symbol",
      "source": "mjernoMjesto",
      "filter": [
        "all",
        ["==", "zone_name", "SUKI"],
        ["==", "description_id", 1]
      ],
      "layout": {
        "icon-image": "th",
        "icon-size": 1
      }
    },
    {
      "id": "mjernoMjesto-icon",
      "type": "symbol",
      "source": "mjernoMjesto",
      "filter": [
        "all",
        ["==", "zone_name", "SUKI"],
        ["!=", "description_id", 1]
      ],
      "layout": {
        "icon-image": "inventia",
        "icon-size": 1
      }
    },
    {
      "id": "mjernoMjesto-label",
      "type": "symbol",
      "source": "mjernoMjesto",
      "filter": ["==", "zone_name", "SUKI"],
      "minzoom": 12,
      "layout": {
        "text-field": [
          "concat",
          ["get", "device_name"],
          "\n",
          ["get", "device_id"]
        ],
        "text-size": 12,
        "text-font": ["Arial Normal", "sans-serif Normal"],
        "text-offset": [0, -3]
      },
      "paint": {
        "text-color": "red",
        "text-halo-blur": 1,
        "text-halo-color": "#ffffff",
        "text-halo-width": 3
      }
    },
    {
      "id": "mjernaZona-label",
      "type": "symbol",
      "source": "mjernaZona",
      "layout": {
        "text-field": ["upcase", ["get", "naziv"]],
        "text-size": 14,
        "text-font": ["Arial Normal", "sans-serif Normal"],
        "text-allow-overlap": true,
        "text-max-width": 18
      },
      "paint": {
        "text-color": "black",
        "text-halo-blur": 1,
        "text-halo-color": "#ffffff",
        "text-halo-width": 3
      }
    }
  ]
}
